import{L as c,B as o,ao as r,ap as n,M as d,h as m,e as p}from"./ddd@DwDq534T.js";class y extends c{constructor(t,i){const a=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],e=new o;e.setAttribute("position",new r(a,3)),e.computeBoundingSphere();const l=new n({fog:!1});super(e,l),this.light=t,this.color=i,this.type="RectAreaLightHelper";const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],s=new o;s.setAttribute("position",new r(h,3)),s.computeBoundingSphere(),this.add(new d(s,new m({side:p,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);const t=this.material.color,i=Math.max(t.r,t.g,t.b);i>1&&t.multiplyScalar(1/i),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}export{y as RectAreaLightHelper};
